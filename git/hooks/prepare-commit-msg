#!/bin/sh

# 커밋 메시지 파일 위치 ($1)
MSG_FILE=$1

# 삽입할 템플릿
TEMPLATE=$(cat << 'EOF'
# [GUIDE] - Run `:CodeType` to insert a commit template based on the type below.
#
# ┌──[ Code Changes ]───────────────────────────────────────────────┐
# │ Feat     : 새로운 기능 추가                                     │
# │ Design   : UI / CSS 등 스타일 수정                              │
# │ BREAKING : 대규모 API 변경                                      │
# │ Test     : 테스트 추가, 테스트 리팩토링(프로덕션 코드 변경 X)   │
# │ Chore    : 빌드, 설정파일 수정                                  │
# │ Refactor : Production 코드 리팩터링                             │
# │ Rename   : 파일 또는 폴더명 수정                                │
# │ Remove   : 파일 삭제                                            │
# └─────────────────────────────────────────────────────────────────┘
# ┌──[ Work In Progress ]───────────────────────────────────────────┐
# │ WIP      : 작업 중인 기능 또는 미완성 커밋                      │
# └─────────────────────────────────────────────────────────────────┘
# ┌──[ Bug Fixes ]──────────────────────────────────────────────────┐
# │ Fix      : 버그 수정                                            │
# │ HOTFIX   : 치명적 버그 긴급 수정                                │
# └─────────────────────────────────────────────────────────────────┘
# ┌──[ Code Maintenance ]───────────────────────────────────────────┐
# │ Docs     : 문서 수정                                            │
# │ Style    : 코드 포맷 변경, 세미 콜론 누락, 코드 수정 X          │
# │ Comment  : 주석 추가 및 변경                                    │
# └─────────────────────────────────────────────────────────────────┘
#
EOF
)

# 템플릿이 이미 들어있지 않으면, 앞에 삽입
if ! grep -q "Commit Type Reference" "$MSG_FILE"; then
  printf "%s%s" "$TEMPLATE" "$(cat "$MSG_FILE")" > "$MSG_FILE"
fi
